{% extends "home_layout.html" %}
{% from "macros.html" import nav_link2 with context %}
{% block content %}

    <h2>Your Past Moods</h2>
    <br>
    <table class="table table-hover" id="mood-table">
        <thead>
        <tr>
            <th scope="col" style="color: white">Mood</th>
            <th scope="col" style="color: white">Date</th>
            <th scope="col" style="color: white"></th>
        </tr>
        </thead>
        <tbody>
            {% for row in table %}
         <tr>
                <td style="color: white">{{ row[0] }}</td>
                <td style="color: white">{{ row[1] }}</td>
                <td>
                    <form action="/delete_mood">
                        <button type="submit" class="btn btn-outline-danger" value="{{ row[2] }}"onclick="deleteRow(this)">
                            <span>&times;</span>
                        </button>
                    </form>
                </td>
        </tr>
            {%  endfor %}

        </tbody>
    </table>
{% endblock %}

{% block script %}
<script>
function deleteRow(r) {
  if (confirm("Are you sure you want to delete this mood?")) {
      var i = r.parentNode.parentNode.rowIndex;
      document.getElementById("mood-table").deleteRow(i);
      alert("Mood deleted")
      return true;
  } else {
      return false;
  }
}
</script>
{% endblock %}